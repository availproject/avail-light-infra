---

- name: Setup lightnode
  vars:
    client_version:  "{{ avail_light_version }}"
  block: 
    - ansible.builtin.include_tasks: init.yml
    - ansible.builtin.include_tasks: binary.yml
    - ansible.builtin.include_tasks: configure.yml
    - ansible.builtin.include_tasks: datadog.yml
  when: inventory_hostname in groups['lightnode']

- name: Setup fatclients
  vars:
    client_version:  "{{ avail_light_version }}"
  block: 
    - ansible.builtin.include_tasks: init.yml
    - ansible.builtin.include_tasks: binary.yml
    - ansible.builtin.include_tasks: configure.yml
    - ansible.builtin.include_tasks: datadog.yml
  when: inventory_hostname in groups['fatclient']